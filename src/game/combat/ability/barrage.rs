use amethyst::{
    core::SystemDesc,
    ecs::prelude::*,
};

use crate::game::character::Character;
use crate::game::character::*;

use super::*;

define_ability!(
    BarrageAbility,
    BarrageAbilitySystem,
    BarrageAbilitySystemDesc,
    "Barrage",
    "Fires 13 shots. Can be focused on one enemy, or spread out over all enemies.",
    60.0,
    0,
    AbilityTargetType::Enemy,
    AbilityTargetArea::Flexible,
    AbilityUsability::Unique(&[
        SpanglesDrone::character_id(),
        SpacebotDrone::character_id(),
        //ChargeDrone::character_id(),
        ChargeSpacebotDrone::character_id(),
        BlitzDrone::character_id(),
        GunnerSpacebotDrone::character_id(),
        ModelXDrone::character_id(),
    ]),
    [
       AbilityActionDesc::Fire(FireDesc::bullet(5.0,0.75),0),
       AbilityActionDesc::Wait(0.2),
       AbilityActionDesc::Fire(FireDesc::bullet(5.0,0.75),1),
       AbilityActionDesc::Wait(0.2),
       AbilityActionDesc::Fire(FireDesc::bullet(5.0,0.75),0),
       AbilityActionDesc::Wait(0.2),
       AbilityActionDesc::Fire(FireDesc::bullet(5.0,0.75),1),
       AbilityActionDesc::Wait(0.2),
       AbilityActionDesc::Fire(FireDesc::bullet(5.0,0.75),0),
       AbilityActionDesc::Wait(0.2),
       AbilityActionDesc::Fire(FireDesc::bullet(5.0,0.75),1),
       AbilityActionDesc::Wait(0.2),
       AbilityActionDesc::Fire(FireDesc::bullet(5.0,0.75),0),
       AbilityActionDesc::Wait(0.2),
       AbilityActionDesc::Fire(FireDesc::bullet(5.0,0.75),1),
       AbilityActionDesc::Wait(0.2),
       AbilityActionDesc::Fire(FireDesc::bullet(5.0,0.75),0),
       AbilityActionDesc::Wait(0.2),
       AbilityActionDesc::Fire(FireDesc::bullet(5.0,0.75),1),
       AbilityActionDesc::Wait(0.2),
       AbilityActionDesc::Fire(FireDesc::bullet(5.0,0.75),0),
       AbilityActionDesc::Wait(0.2),
       AbilityActionDesc::Fire(FireDesc::bullet(5.0,0.75),1),
       AbilityActionDesc::Wait(0.2),
       AbilityActionDesc::Fire(FireDesc::bullet(5.0,0.75),0)

    ]
);

define_ability!(
    HyperBarrageAbility,
    HyperBarrageAbilitySystem,
    HyperBarrageAbilitySystemDesc,
    "Deleter",
    "Improved version of the barrage which fires 26 shots.",
    100.0,
    0,
    AbilityTargetType::Enemy,
    AbilityTargetArea::Flexible,
    AbilityUsability::Unique(&[
        BlitzDrone::character_id(),
        GunnerSpacebotDrone::character_id(),
    ]),
    [
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),1),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),1),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),1),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),1),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),1),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),1),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),1),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),1),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07),
       AbilityActionDesc::Fire(FireDesc::bullet(4.0,0.7),0),
       AbilityActionDesc::Wait(0.07)
    ]
);